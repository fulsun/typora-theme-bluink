<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pink.css 主题演示 - 支持黑暗模式</title>
    <link rel="stylesheet" href="bluink-pink.css" id="theme-stylesheet">
</head>
<body>
    <!-- 主题切换按钮 -->
    <button class="theme-toggle" id="themeToggle" title="切换主题">
        <span id="themeIcon">🌙</span>
    </button>

    <div id="write">
        <h1>Pink.css 主题演示</h1>
        
        <p>这是一个支持黑暗模式的可爱粉色主题演示页面。点击右上角的按钮可以切换浅色和黑暗模式。</p>

        <h2>功能特点</h2>
        <ul>
            <li>🌸 可爱的粉色主题设计</li>
            <li>🌙 完整的黑暗模式支持</li>
            <li>🎨 自动检测用户系统偏好</li>
            <li>💫 平滑的主题切换动画</li>
            <li>📱 响应式设计，支持移动设备</li>
        </ul>

        <h3>代码示例</h3>
        <p>这里是一些 <code>行内代码</code> 的示例。</p>

        <pre><code>// JavaScript 代码块示例
function toggleTheme() {
    const currentTheme = document.documentElement.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    document.documentElement.setAttribute('data-theme', newTheme);
}</code></pre>

        <h4>引用块示例</h4>
        <blockquote>
            <p>这是一个引用块的示例。在黑暗模式下，所有的颜色都会自动调整以保持良好的可读性和美观性。</p>
        </blockquote>

        <h5>表格示例</h5>
        <table>
            <thead>
                <tr>
                    <th>功能</th>
                    <th>浅色模式</th>
                    <th>黑暗模式</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>背景色</td>
                    <td>浅粉色</td>
                    <td>深紫色</td>
                </tr>
                <tr>
                    <td>文字色</td>
                    <td>深紫色</td>
                    <td>浅紫色</td>
                </tr>
                <tr>
                    <td>主题色</td>
                    <td>粉红色</td>
                    <td>亮粉色</td>
                </tr>
            </tbody>
        </table>

        <h6>其他元素</h6>
        <p>这里有一些其他的文本样式：<strong>加粗文字</strong>、<em>斜体文字</em>、<del>删除线文字</del>。</p>

        <p>还有一个 <a href="#" onclick="return false;">链接示例</a>，悬停时会有特殊效果。</p>

        <hr>

        <details>
            <summary>展开查看更多信息</summary>
            <p>这是一个可展开的详情块。在黑暗模式下，这些元素也会自动调整颜色。</p>
        </details>

        <h2>使用说明</h2>
        <ol>
            <li>将 <code>pink.css</code> 文件链接到您的 HTML 页面</li>
            <li>添加主题切换按钮（可选）</li>
            <li>包含 JavaScript 代码以实现主题切换功能</li>
            <li>享受美丽的粉色主题和黑暗模式！</li>
        </ol>
    </div>

    <script>
        // 主题切换功能 - 适用于 Typora 双 CSS 文件模式
        class ThemeManager {
            constructor() {
                this.themeToggle = document.getElementById('themeToggle');
                this.themeIcon = document.getElementById('themeIcon');
                this.themeStylesheet = document.getElementById('theme-stylesheet');
                this.currentTheme = this.getStoredTheme() || this.getSystemTheme();

                this.init();
            }

            init() {
                // 设置初始主题
                this.setTheme(this.currentTheme);

                // 绑定切换按钮事件
                this.themeToggle.addEventListener('click', () => this.toggleTheme());

                // 监听系统主题变化
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                    if (!this.getStoredTheme()) {
                        this.setTheme(e.matches ? 'dark' : 'light');
                    }
                });
            }

            getSystemTheme() {
                return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            }

            getStoredTheme() {
                return localStorage.getItem('theme');
            }

            setTheme(theme) {
                this.currentTheme = theme;

                // 切换 CSS 文件
                if (theme === 'dark') {
                    this.themeStylesheet.href = 'bluink-pink-dark.css';
                } else {
                    this.themeStylesheet.href = 'bluink-pink.css';
                }

                this.updateIcon(theme);
                localStorage.setItem('theme', theme);
            }

            toggleTheme() {
                const newTheme = this.currentTheme === 'dark' ? 'light' : 'dark';
                this.setTheme(newTheme);
            }

            updateIcon(theme) {
                this.themeIcon.textContent = theme === 'dark' ? '☀️' : '🌙';
                this.themeToggle.title = theme === 'dark' ? '切换到浅色模式' : '切换到黑暗模式';
            }
        }

        // 初始化主题管理器
        document.addEventListener('DOMContentLoaded', () => {
            new ThemeManager();
        });
    </script>
</body>
</html>
